<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Subject-Based Query</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-346DE24F6H"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-346DE24F6H');
    </script>
    <style>
        body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}
.container {
    width: 70%;
    margin: 50px auto;
    padding: 20px;
    background: white;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
}
select, input {
    width: 70%;
    padding: 10px;
    margin: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}
button {
    padding: 10px 15px;
    background-color: #007BFF;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
}
button:hover {
    background-color: #0056b3;
}
.response-box {
    margin-top: 20px;
    padding: 10px;
    background: #eee;
    border-radius: 5px;
    text-align: left;
}
h2 {
    color: #007BFF;
}
b {
    font-weight: bold;
}

#chapterTable {
    border-collapse: collapse;
    width: auto; /* Only takes necessary width */
}

#chapterTable td {
    padding: 5px 10px;
    border: none;
    text-align: left;
    white-space: nowrap;
}

#chapterTable label {
    display: inline-flex;
    align-items: center;
    gap: 5px; /* Ensures checkbox is exactly after text */
}







#chapterList label {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #f9f9f9;
    cursor: pointer;
}


#chapterList input[type="checkbox"] {
    margin-right: 5px;
    vertical-align: middle;
}

.heading {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}

.bold {
  font-weight: bold;
  color: black;
}

.bordered {
    border: 2px solid black;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
}

.bordered {
    border: 2px solid black;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
    background-color: #5591f2; /* Blue background */
    color: white;
    font-size: 16px;
    line-height: 1.5;
}

.heading {
    font-weight: bold;
    font-size: 18px;
    margin-top: 15px;
}

.bold {
    font-weight: bold;
    color: yellow; /* Highlighted bold text */
}

.bordered {
    border: 2px solid black;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    font-size: 16px;
    line-height: 1.5;
    overflow-x: auto; /* Prevents large equations from breaking layout */
}

.heading {
    font-weight: bold;
    font-size: 18px;
    margin-top: 15px;
}

.bold {
    font-weight: bold;
    color: yellow;
}

.heading {
    font-size: 18px;
    font-weight: bold;
    text-align: center;
    margin: 10px 0;
}

.blue-bg {
    background-color: #d0e7ff; /* Light Blue */
    border: 2px solid black;
    padding: 8px;
    margin: 8px 0;
    border-radius: 5px;
}

.green-bg {
    background-color: #c8e6c9; /* Light Green */
    border: 2px solid black;
    padding: 8px;
    margin: 8px 0;
    border-radius: 5px;
}
.heading {
    font-size: 18px;
    font-weight: bold;
    text-align: center;
    margin: 10px 0;
}

.blue-bg {
    background-color: #d0e7ff; /* Light Blue */
    border: 2px solid black;
    padding: 8px;
    margin: 8px 0;
    border-radius: 5px;
}

.green-bg {
    background-color: #c8e6c9; /* Light Green */
    border: 2px solid black;
    padding: 8px;
    margin: 8px 0;
    border-radius: 5px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
}

th, td {
    border: 2px solid black;
    padding: 8px;
    text-align: center;
}

th {
    background-color: #888; /* Darker for headers */
    color: white;
}


    </style>
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js">
</script>
</head>
<body>
    <div class="container">
        <h2>Ask AI a Subject-Specific Question</h2>
        <form id="aiForm">
            <label>Select Subject:</label>
            <select id="subjectSelect">
                <option value="physics">Physics</option>
                <option value="chemistry">Chemistry</option>
                <option value="maths" selected>Maths</option>
            </select>
            
            <label>Select Chapters:</label>
            <table id="chapterTable">
    <tr>
        <td><label>Sets <input type="checkbox" value="Sets"></label></td>
        <td><label>Linear Inequalities <input type="checkbox" value="Linear Inequalities"></label></td>
    </tr>
    <tr>
        <td><label>Relations and Functions <input type="checkbox" value="Relations and Functions"></label></td>
        <td><label>Permutations and Combinations <input type="checkbox" value="Permutations and Combinations"></label></td>
    </tr>
    <tr>
        <td><label>Trigonometric Functions <input type="checkbox" value="Trigonometric Functions"></label></td>
        <td><label>Binomial Theorem <input type="checkbox" value="Binomial Theorem"></label></td>
    </tr>
    <tr>
        <td><label>Principle of Mathematical Induction <input type="checkbox" value="Principle of Mathematical Induction"></label></td>
        <td><label>Sequences and Series <input type="checkbox" value="Sequences and Series"></label></td>
    </tr>
    <tr>
        <td><label>Complex Numbers and Quadratic Equations <input type="checkbox" value="Complex Numbers and Quadratic Equations"></label></td>
        <td><label>Straight Lines <input type="checkbox" value="Straight Lines"></label></td>
    </tr>
</table>



            <input type="text" id="userInput" placeholder="Enter your question..." required>
            <button type="submit" id="Generate">Generate</button>
        </form>
        <div class="response-box">
            <h3>Response:</h3>
            <div id="responseText"></div>
        </div>
    </div>


<script>
window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    svg: { fontCache: 'global' }
};
</script>
<script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js">
</script>



  
          <script>
        const chapters = {
            maths: [
                "Sets", "Relations and Functions", "Trigonometric Functions", "Principle of Mathematical Induction", "Complex Numbers and Quadratic Equations",
                "Linear Inequalities", "Permutations and Combinations", "Binomial Theorem", "Sequences and Series", "Straight Lines",
                "Conic Sections", "Introduction to Three Dimensional Geometry", "Limits and Derivatives", "Mathematical Reasoning", "Statistics", "Probability"
            ],
            chemistry: [
                "Some Basic Concepts of Chemistry", "Structure of Atom", "Classification of Elements and Periodicity in Properties",
                "Chemical Bonding and Molecular Structure", "Thermodynamics", "Equilibrium", "Redox Reactions",
                "Organic Chemistry - Some Basic Principles and Techniques", "Hydrocarbons"
            ],
            physics: [
                "Units and Measurements", "Motion in a Straight Line", "Motion in a Plane", "Laws of Motion", "Work, Energy, and Power",
                "System of Particles and Rotational Motion", "Gravitation", "Mechanical Properties of Solids", "Mechanical Properties of Fluids",
                "Thermal Properties of Matter", "Thermodynamics", "Kinetic Theory", "Oscillations", "Waves"
            ]
        };

        document.getElementById("subjectSelect").addEventListener("change", function () {
            const subject = this.value;
            const chapterTable = document.getElementById("chapterTable");
            chapterTable.innerHTML = ""; // Clear previous content

            if (!subject || !chapters[subject]) return;

            let rows = "";
            for (let i = 0; i < chapters[subject].length; i += 2) {
                const col1 = chapters[subject][i] || "";
                const col2 = chapters[subject][i + 1] || "";
                rows += `
                    <tr>
                        <td><label>${col1} <input type="checkbox" value="${col1}"></label></td>
                        <td><label>${col2} <input type="checkbox" value="${col2}"></label></td>
                    </tr>
                `;
            }

            chapterTable.innerHTML = rows;
        });

document.getElementById("aiForm").addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent page reload

    const subject = document.getElementById("subjectSelect").value;
    const userInput = document.getElementById("userInput").value.trim();
    const selectedChapters = [];

    document.querySelectorAll("#chapterTable input:checked").forEach(checkbox => {
        selectedChapters.push(checkbox.value);
    });

    if (!userInput || selectedChapters.length === 0) {
        document.getElementById("responseText").innerHTML = "<p class='error'>Please enter a question and select at least one chapter.</p>";
        return;
    }else{
        document.getElementById("responseText").innerHTML = "<p class='error'>Generating...Please Wait...</p>";
    }



    const apiKey = "AIzaSyAqCWS5040Mqa_hLWYovf-W0bQcxrNiPSI"; // Replace with your actual API key
    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

    const requestBody = {
        contents: [
            {
                parts: [
                    {
                        text: `Subject: ${subject}\nChapters: ${selectedChapters.join(", ")}\nQuestion: ${userInput} of class 11, and only provide question and nothing else no comment no greeting also properly format fractions, exponents, etc if any, dont highlight question with * or **, especially take care of any dollar sign in any Mathematical question to be formatted properly avoid these type of formats How many grams of $H_2O$ are produced when 2.0 g of $H_2$ reacts with 16.0 g of $O_2$? or If the root mean square velocity ($v_{rms}$) of gas molecules at temperature T is given by $v_{rms} = \sqrt{\frac{3RT}{M}}$, and the temperature is increased to 4 times its initial value, by what factor does the $v_{rms}$ change?, i am using mathjax in html to format questions, so make questions using mathjax formatting techniques if required , for example  not make this The pressure of a gas is given by $P = \frac{1}{3} \rho v_{rms}^2$. If the density $\rho$ is doubled and the root mean square velocity $v_{rms}$ is halved, by what factor does the pressure change? instead The pressure of a gas is given by \( P = \frac{1}{3} \rho v_{\text{rms}}^2 \).  
If the density \( \rho \) is doubled and the root mean square velocity \( v_{\text{rms}} \) is halved,  
by what factor does the pressure change?
 also make heading started with ** and ended with ** , also ignore any full stop marks, also provide compele solution to all questions separately in very end start the answer section using the word sebatiaA`
                    }
                ]
            }
        ]
    };

    fetch(apiUrl, {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(requestBody)
    })
    .then(response => response.json())
.then(data => {
    let aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || "No response received.";

    // Format the response using the global function
    let formattedResponse = formatResponse(aiResponse);
    document.getElementById("responseText").innerHTML = formattedResponse;
})


    .catch(error => {
        document.getElementById("responseText").innerHTML = "<p class='error'>Error fetching response.</p>";
        console.error("Fetch error:", error);
    });

});

function formatResponse(text) {
    let formattedText = "";
    let lines = text.split("\n").filter(line => line.trim() !== ""); // Remove empty lines
    let isAnswerSection = false;
    let isTable = false;
    let tableHTML = "";

    for (let line of lines) {
        if (line.includes("sebatiaA")) {
            isAnswerSection = true;
            line = line.replace("sebatiaA", ""); // Remove marker
        }

        let bgColorClass = isAnswerSection ? "green-bg" : "blue-bg";

        // Detect Markdown-style table headers
        if (line.match(/^\|.*\|$/) && !isTable) {
            isTable = true;
            tableHTML = `<table class="${bgColorClass}"><tr>`;
            let headers = line.split("|").filter(item => item.trim() !== "");
            headers.forEach(header => {
                tableHTML += `<th>${header.trim()}</th>`;
            });
            tableHTML += "</tr>";
            continue;
        }

        // Detect table row (Markdown-style)
        if (isTable && line.match(/^\|.*\|$/)) {
            tableHTML += "<tr>";
            let rowValues = line.split("|").filter(item => item.trim() !== "");
            rowValues.forEach(value => {
                tableHTML += `<td>${value.trim()}</td>`;
            });
            tableHTML += "</tr>";
            continue;
        }

        // End of table
        if (isTable && !line.match(/^\|.*\|$/)) {
            isTable = false;
            tableHTML += "</table>";
            formattedText += tableHTML;
        }

        // Detect Headings
        if (line.startsWith("**") && line.endsWith("**")) {
            formattedText += `<p class="heading ${bgColorClass}">${line.slice(2, -2)}</p>`;
        } else {
            formattedText += `<p class="${bgColorClass}">${line}</p>`;
        }
    }

    // In case table ends at last line
    if (isTable) {
        formattedText += "</table>";
    }

    setTimeout(() => {
        if (window.MathJax && MathJax.typesetPromise) {
            MathJax.typesetPromise();
        }
    }, 50);

    return formattedText;
}

window.formatResponse = formatResponse;




        // Load initial subject chapters
        document.getElementById("subjectSelect").dispatchEvent(new Event("change"));
    </script>
</body>
</html>

